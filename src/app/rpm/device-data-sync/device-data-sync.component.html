<ng-container  *ngIf="!isLoadingImages && (!unRecordImgDto || !unRecordImgDto.length)">
  <div class="text-center">
    <app-record-not-found></app-record-not-found>
  </div>
</ng-container>
<div class="mod-list" malihu-scrollbar [scrollbarOptions]="scrollbarOptionsTimeline">
  <div class="images-list" *ngIf="!isLoadingImages;else loadingSklton">
    <ng-container *ngIf="unRecordImgDto && unRecordImgDto.length > 0">
      <div *ngFor="let item of unRecordImgDto; let i=index">
        <div class="sync-data">
          <div class="device">
            <div class="d-img">
              <img (click)="GetModalityId(item, i)" src="{{item.publicImageUrl}}">
            </div>
            <p class="mb-0 d-flex justify-content-between w-100 p-2"><small><span class="text-dynamic-secondary-2c">Updated
                  Time:</span>
                {{item.dateCreated}}
                <a (click)="openConfirmModal(item.id)" class="remove-device text-danger" title="Remove" data-placement="top"
                  container="body"><i class="fa fa-trash"></i></a>
              </small></p>
            <!-- <div class="d-reading">
              <p><strong>{{item.dateCreated | dateFormatPipe}}</strong></p>
            </div> -->
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>

<div class="sync-device-info mt-3" *ngIf="modalityId">
  <div class="sync-data-info">
    <div class="panel">
      <div class="panel-body">
        <div class="row">
          <div class="col-lg-12 col-sm-12">
            <div *ngIf="modalityId && modalityId === 1 ">
              <p><strong>Blood Pressure</strong></p>
              <div class="info-form">
                <div class="form-image mr-3">
                  <img src="{{image}}">
                </div>
                <div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Systolic</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.highPressure" name=""
                            class="form-control form-control-sm">
                        </div>
                      </div>

                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Diastolic</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.lowPressure" name=""
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>

                    <div class="col-sm-6">
                      <div class="form-group">
                        <label>Heart Rate</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.heartRate" name=""
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>

                    <div class="col-sm-12">
                      <button type="button" [disabled]="!recordImgData.lowPressure || !recordImgData.highPressure || savingData"
                       class="relative waves-light pull-right btn btn-dynamic-2c btn-sm"
                        (click)="saveBPDataFromImage()">Save</button>
                    </div>
                  </div>
                </div>
              </div>


            </div>

            <div class="p-3" *ngIf="modalityId && modalityId === 2">
              <p><strong>Weight</strong></p>

              <div class="info-form">
                <div class="form-image mr-3">
                  <img src="{{image}}">
                </div>
                <div>
                  <div class="row">
                    <div class="col-sm-4">
                      <div class="form-group">
                        <label class="mx-3">Weight</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.weightValue"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="form-check form-check-inline">
                      <input type="radio" class="form-check-input" id="pound" name="pound" [(ngModel)]="weightIn" [value]="'pound'"  (click)="weightIn = 'pound';" mdbInput>
                      <label class="form-check-label" for="pound">Pound</label>
                    </div>
                    <div class="form-check form-check-inline">
                      <input type="radio" class="form-check-input" id="kg" name="kg" [(ngModel)]="weightIn" [value]="'kg'" (click)="weightIn = 'kg';" mdbInput>
                      <label class="form-check-label" for="kg">Kg</label>
                    </div>
                    <!-- <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Min</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading1"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div> -->
                    </div>
                      <button type="button" [disabled]="!recordImgData.weightValue || savingData"
                        class="relative waves-light pull-right btn btn-dynamic-2c btn-sm" (click)="saveWeightDataFromImage(); weightIn = ''">Save</button>
                  </div>
                </div>


            </div>
            <div class="p-3" *ngIf="modalityId && modalityId === 3">
              <p><strong>Pulse</strong></p>


              <div class="info-form">
                <div class="form-image mr-3">
                  <img src="{{image}}">
                </div>
                <div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Blood Oxygen</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.bloodOxygen"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Heart Rate</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.heartRate"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12">
                      <button type="button"
                        [disabled]="!recordImgData.bloodOxygen || !recordImgData.heartRate || savingData"
                        class="relative waves-light pull-right btn btn-dynamic-2c btn-sm" (click)="savePulseDataFromImage()">Save</button>
                    </div>
                  </div>
                </div>
              </div>


            </div>

            <div class="p-3" *ngIf="modalityId && modalityId === 4">
              <p><strong>Blood Glucose</strong></p>

              <div class="info-form">
                <div class="form-image mr-3">
                  <img src="{{image}}">
                </div>
                <div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Blood Glucose</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.bg"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Meal Situation</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <!-- <input type="text" name="dinnerSituation" [(ngModel)]="recordImgData.dinnerSituation"
                            class="form-control form-control-sm"> -->
                            <ng-select class="ng-select-small" [(ngModel)]="recordImgData.dinnerSituation" appendTo="body" name="dinnerSituation" [multiple]="false" [searchable]="true"
                              placeholder="Select situation">
                              <ng-option value="Pre-Meal">Pre-Meal</ng-option>
                              <ng-option value="2 Hour Post Meal">2 Hour Post Meal</ng-option>
                              <ng-option value="Fasting">Fasting</ng-option>
                              <ng-option value="Random">Random</ng-option>
                            </ng-select>
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-12">
                      <button type="button" 
                        [disabled]="!recordImgData.dinnerSituation || !recordImgData.bg || savingData"
                        class="relative waves-light pull-right btn btn-dynamic-2c btn-sm" (click)="saveBloodGlucosFromImage()">Save</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
            <div class="p-3" *ngIf="modalityId && modalityId === 5">
              <p><strong>Activity</strong></p>

              <div class="info-form">
                <div class="form-image mr-3">
                  <img src="{{image}}">
                </div>
                <div>
                  <div class="row">
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Min Steps</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.calories"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group">
                        <label class="mx-3">Max Steps</label>
                        <div class="form-group mb-0 flex-grow-1">
                          <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.distanceTraveled"
                            class="form-control form-control-sm">
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                          <label class="mx-3">Max Steps</label>
                          <div class="form-group mb-0 flex-grow-1">
                            <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.steps"
                              class="form-control form-control-sm">
                          </div>
                        </div>
                      </div>
                    <div class="col-sm-12">
                      <button type="button"
                        [disabled]="!recordImgData.calories || !recordImgData.distanceTraveled || !recordImgData.steps || savingData"
                        class="relative waves-light pull-right btn btn-dynamic-2c btn-sm" (click)="saveActivityFromImage()">Save</button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<!-- <div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
      </div>
      <div class="modal-body">
        <div class="bg-white p-3">
          <div class="row">
            <div class="col-lg-12 col-sm-12">
              <div class="p-3" *ngIf="modalityId && modalityId === 1 ">
                <label>Blood Pressure</label>

                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Max Low</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.reading1" name=""
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Min Low</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.reading2" name=""
                      class="form-control form-control-sm">
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Max High</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.reading3" name=""
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Min High</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" [(ngModel)]="recordImgData.reading4" name=""
                      class="form-control form-control-sm">
                  </div>
                </div>
              </div>
              <div class="p-3" *ngIf="modalityId && modalityId === 2 ">
                <label>Weight</label>
                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Min</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading1"
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Max</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading2"
                      class="form-control form-control-sm">
                  </div>
                </div>
              </div>
              <div class="p-3" *ngIf="modalityId && modalityId === 3 ">
                <label>Pulse</label>
                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Min Blood Oxygen</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading1"
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Max Blood Oxygen</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading2"
                      class="form-control form-control-sm">
                  </div>
                </div>
              </div>
              <div class="p-3" *ngIf="modalityId && modalityId === 4 ">
                <label>Blood Glucose</label>
                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Min</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading1"
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Max</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading2"
                      class="form-control form-control-sm">
                  </div>
                </div>
              </div>
              <div class="p-3" *ngIf="modalityId && modalityId === 5 ">
                <label>Activity</label>
                <div class="d-flex align-items-center justify-content-start flex-nowrap mb-4">
                  <label class="mx-3">Min Steps</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading1"
                      class="form-control form-control-sm">
                  </div>
                  <label class="mx-3">Max Steps</label>
                  <div class="form-group mb-0 flex-grow-1">
                    <input type="text" mask="000" min="0" name="" [(ngModel)]="recordImgData.reading2"
                      class="form-control form-control-sm">
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" mdbBtn color="seondary" class="waves-light" aria-label="Close"
            (click)="basicModal.hide()" mdbWavesEffect>Close</button>
           <button type="button" mdbBtn color="pimary" class="relative waves-light"
            (click)="SaveDeviceData();basicModal.hide()" mdbWavesEffect>Save</button>
        </div>
      </div>
    </div>
  </div> -->

  <ng-template #loadingSklton>
    <skltn-root duration="2000" [rectRadius]="0" flareWidth="50%" bgFill="#f2f3f8" flareFill="rgba(255,255,255, 0.5)">
      <!-- Card with Avatar -->
      <div class="p-3">
        <div class="skltn-card">
          <div class="skltn-card__body">
            <div skltn-bone class="skltn-card__line"></div>
            <div skltn-bone class="skltn-card__line"></div>
            <div skltn-bone class="skltn-card__line"></div>
            <div skltn-bone class="skltn-card__line"></div>
          </div>
        </div>
      </div>
    </skltn-root>
  </ng-template>
