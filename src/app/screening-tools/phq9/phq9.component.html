
    <div class="panel rounded-0">
        <div class="panel-body">
            <div>
                <div class="col-sm-12 px-0">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                       <p class="mb-0"><strong>Depression Screening Questionnaire</strong></p>

                      <button class="btn btn-dynamic-2c btn-sm m-0" (click)="resetObj();phqModal.show()">Add New</button>
                    </div>
                </div>


                <div class="col-sm-12 px-0">
                    <div *ngIf="loadingData" class="d-flex justify-content-center text-center">
                        <mdb-progress-bar class="progress primary-color-dark mb-0" mode="indeterminate"></mdb-progress-bar>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped btn-table">
                            <thead class="bg-dynamic-2c text-white">
                                <tr>
                                    <th>#</th>
                                    <th>Date</th>
                                    <th>Administrator Name</th>
                                    <th>Score</th>
                                    <th>Note</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>

                              <tr>
                                <td *ngIf="!loadingData && (!PhqToolsList || !PhqToolsList.length)" colspan="6"
                                    style="background-color: #f2f2f2">
                                    <strong style="font-size: 1rem;">No record found </strong>
                                  </td>
                              </tr>
                              <tr *ngFor="let item of PhqToolsList;let index=index;">
                                  <td>{{index+1}}</td>
                                  <td>{{item.dateAdministered | date}}</td>
                                  <td>{{item.administratorName}}</td>
                                  <td>{{item.score}} {{item.result}}</td>
                                  <td style="max-width: 200px;">{{item.note}} </td>

                                  <td style="width: 70px;">
                                      <div class="d-flex">
                                          <button class="btn btn-icon btn-dynamic-2c my-0"
                                              (click)="OpenEditModel(item, phqModal)"><i
                                                  class="fa fa-eye"></i></button>
                                          <!-- <button class="btn btn-icon btn-danger ml-0 my-0"><i
                                                  class="fa fa-trash"></i></button> -->
                                      </div>
                                  </td>
                              </tr>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>




<div mdbModal #phqModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"
aria-hidden="true" >
<div class="modal-dialog modal-xl modal-dialog-scrollable" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close pull-right" aria-label="Close" (click)="phqModal.hide()">
                <span aria-hidden="true">Ã—</span>
            </button>
            <h4 class="modal-title w-100">Depression Screening Questionnaire </h4>
        </div>
        <div class="modal-body">

            <div class="d-flex justify-content-end">
                <div class="d-flex align-items-center ">
                  <label class="mr-2">Date<span class="text-danger"> *</span></label>
                  <input [ngModel]="PhqToolDto.dateAdministered | dateFormatPipe"
                  (ngModelChange)="PhqToolDto.dateAdministered=$event;" type="text" style="width: 120px;" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
                 [dpDayPicker]="datePickerConfig"
                    [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />

                </div>
              </div>


              <ng-container>
                <div class="form-group border-bottom pb-3"
                    *ngFor="let question of questionsData;let qIndex = index;">
                    <p class="mb-2"><strong>{{qIndex + 1}}. {{question.qText}}</strong>
                    </p>
                    <ng-container>
                        <div class="form-check pl-0 form-check-inline">
                            <input type="radio" class="form-check-input"
                                [(ngModel)]="PhqToolDto[question.prop]" (change)="calculateScore()" [value]="0"
                                id="{{question.prop}}1" name="describe{{question.prop}}" mdbInput>
                            <label class="form-check-label" for="{{question.prop}}1">{{question.optionSet === 1 ? 'Not at all': 'Not difficult at all'}}</label>
                        </div>
                    </ng-container>
                    <ng-container>
                        <div class="form-check pl-0 form-check-inline">
                            <input type="radio" class="form-check-input"
                                [(ngModel)]="PhqToolDto[question.prop]" (change)="calculateScore()" [value]="1"
                                id="{{question.prop}}2" name="describe{{question.prop}}" mdbInput>
                            <label class="form-check-label" for="{{question.prop}}2">{{question.optionSet === 1 ? 'Several days': 'Somewhat difficult'}}</label>
                        </div>
                    </ng-container>
                    <ng-container>
                        <div class="form-check pl-0 form-check-inline">
                            <input type="radio" class="form-check-input"
                                [(ngModel)]="PhqToolDto[question.prop]" (change)="calculateScore()" [value]="2"
                                id="{{question.prop}}3" name="describe{{question.prop}}" mdbInput>
                            <label class="form-check-label" for="{{question.prop}}3">{{question.optionSet === 1 ? 'More than half the days': 'Very difficult'}}</label>
                        </div>
                    </ng-container>
                    <ng-container>
                        <div class="form-check pl-0 form-check-inline">
                            <input type="radio" class="form-check-input"
                                [(ngModel)]="PhqToolDto[question.prop]" (change)="calculateScore()" [value]="3"
                                id="{{question.prop}}4" name="describe{{question.prop}}" mdbInput>
                            <label class="form-check-label" for="{{question.prop}}4">{{question.optionSet === 1 ? 'Nearly every day': 'Nearly every day'}}</label>
                        </div>
                    </ng-container>
                </div>
            </ng-container>

            <strong style="font-size: 1rem;">Total Score: {{PhqToolDto.score}} {{PhqToolDto.result}} </strong>

            <div class="form-form form-group">
                <label for="form12">Notes </label>
                <textarea [(ngModel)]="PhqToolDto.note" type="text" id="form12" rows="3" class="form-control" required></textarea>
            </div>

        </div>
        <div class="modal-footer">
            <button *ngIf="!PhqToolDto.id" (click)="AddPhqScreeningTools(phqModal)" [disabled]="!PhqToolDto.dateAdministered ||savingPhq" type="button" class="btn btn-sm btn-dynamic-2c" mdbWavesEffect>
                <span *ngIf="savingPhq" class="spinner-border spinner-border-sm" role="status"
                    aria-hidden="true"></span>
                Add</button>
            <button *ngIf="PhqToolDto.id" (click)="EditPhqScreeningTools(phqModal)" [disabled]="!PhqToolDto.dateAdministered ||savingPhq" type="button" class="btn btn-sm btn-dynamic-2c" mdbWavesEffect>
                <span *ngIf="savingPhq" class="spinner-border spinner-border-sm" role="status"
                    aria-hidden="true"></span>
                Update</button>
            <button type="button" (click)="phqModal.hide()" class="btn btn-sm btn-dynamic-secondary-2c"
                aria-label="Close" mdbWavesEffect>Cancel</button>

        </div>
    </div>
</div>
</div>


