<div class="d-flex align-items-center flex-wrap justify-content-between mb-3">
    <div>
      <h1 class="page-title mb-0 flex-sm-grow-1 pb-1">Annual Wellness Dashboard</h1>
    </div>
    <div class="">
        <!-- <div class="form-group d-inline-flex align-items-center ml-2 mr-1">
            <label class="mb-0 mr-2" for="namea"><strong>Year</strong></label>
            <ng-select [searchable]="false" [appendTo]="'body'" class="ng-select-small" placeholder="Year"
              [clearable]="false" [closeOnSelect]="true" [multiple]="false"  style="min-width:180px"
              >
              <ng-option>2000</ng-option>
              <ng-option>2020</ng-option>
            </ng-select>
        </div> -->

    </div>
</div>
<div class="row">
    <div class="col-xl-5 col-lg-12 col-md-12 col-sm-12">
        <div class="d-flex flex-wrap rpm-content-box flex-1 text-center p-0">
            <div class="item-top-centent d-flex justify-content-center align-items-center w-100">
                <p class="mb-0 item-bold text-center"> Patient Status </p>
            </div>
            <div class="item-bottom-content d-flex flex-1">
                <div [class.active]="filterPatientDto.FilterText=='activePatientsCount'" class="completed-min" (click)="filterPatientDto.FilterText='activePatientsCount';filterPatients()">
                    <p class="mb-0">
                        <small class="font-700">Active</small >
                    </p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.activePatientsCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='eligiblePatientsCount'" class="completed-min" (click)="filterPatientDto.FilterText='eligiblePatientsCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Eligible </small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.eligiblePatientsCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='completedPatientsCount'" class="completed-min" (click)="filterPatientDto.FilterText='completedPatientsCount';filterPatients()">
                    <p class="mb-0">
                        <small class="font-700">Completed </small >
                    </p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.completedPatientsCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='notStartedPatientsCount'" class="completed-min" (click)="filterPatientDto.FilterText='notStartedPatientsCount';filterPatients()">
                    <p class="mb-0">
                        <small class="font-700 ">Not Started</small >
                    </p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.notStartedPatientsCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='otherPatientsCount'" class="completed-min" (click)="filterPatientDto.FilterText='otherPatientsCount';filterPatients()">
                    <p class="mb-0">
                        <small class="font-700">Other</small >
                    </p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.otherPatientsCount || 0}}</small></p>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-5 col-lg-12 col-md-12 col-sm-12">
        <div class="d-flex flex-wrap rpm-content-box flex-1 text-center p-0">
            <div class="item-top-centent d-flex justify-content-center align-items-center w-100">
                <p class="mb-0 item-bold text-center"> HRA Form Summary </p>
            </div>
            <div class="item-bottom-content d-flex flex-1">
                <div [class.active]="filterPatientDto.FilterText=='hraFormSentCount'" class="completed-min" (click)="filterPatientDto.FilterText='hraFormSentCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Sent</small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.hraFormSentCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='hraScheduledForCallCount'" class="completed-min" (click)="filterPatientDto.FilterText='hraScheduledForCallCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Schedule for Call </small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.hraScheduledForCallCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='hraCallNotAnswered'" class="completed-min" (click)="filterPatientDto.FilterText='hraCallNotAnswered';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Call not Answered </small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.hraCallNotAnswered || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='hraFormCompletedCount'" class="completed-min" (click)="filterPatientDto.FilterText='hraFormCompletedCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700 ">Completed</small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.hraFormCompletedCount || 0}}</small></p>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-2 col-lg-12 col-md-12 col-sm-12">
        <div class="d-flex flex-wrap rpm-content-box flex-1 text-center p-0">
            <div class="item-top-centent d-flex justify-content-center align-items-center w-100">
                <p class="mb-0 item-bold text-center"> Office Visit </p>
            </div>
            <div class="item-bottom-content d-flex flex-1">
                <div [class.active]="filterPatientDto.FilterText=='scheduleOfficeVisitCount'" class="completed-min" (click)="filterPatientDto.FilterText='scheduleOfficeVisitCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Schedule</small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.scheduleOfficeVisitCount || 0}}</small></p>
                </div>
                <div [class.active]="filterPatientDto.FilterText=='notShowCount'" class="completed-min" (click)="filterPatientDto.FilterText='notShowCount';filterPatients()" >
                    <p class="mb-0"><small class="font-700">Not Show</small></p>
                    <p class="mb-0"><small class="font-700 font-count" >{{AWVDashboardObj.notShowCount || 0}}</small></p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="position-relative">
    <div *ngIf="false" class="d-flex justify-content-center text-center loadingrow" style="top: 68px;">
        <mdb-progress-bar class="progress primary-color-dark mb-0" mode="indeterminate"></mdb-progress-bar>
      </div>
      <table datatable [dtOptions]="dtOptions" id="awvPatients" [dtTrigger]="dtTrigger"
        class="cell-border hover text-nowrap ccm-datatable">
        <thead>
          <tr>
            <th>
              <div class="text-center">
                <div class="custom-control custom-checkbox">
                  <input disabled readonly class="custom-control-input" type="checkbox" id="selectAll"
                    >
                  <label class="custom-control-label" for="selectAll"></label>
                </div>
              </div>
            </th>
            <th>ID</th>
            <th>
                <span style="white-space: nowrap; display: block;width:195px"> Patient Name</span>
            </th>
            <th>Chat</th>
            <th>Gap Staus</th>
            <th>Staus</th>
            <th>HRA</th>
            <th>HRA Call Status</th>
            <th>AWV Encounter Date</th>
            <th> Schedule Visit</th>
            <th>Last Office Visit</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of rows; let i = index" [ngClass]="{disabledDiv: row.isDeleted}" [class.disabledrow]="row.awEncounterId && row.awEncounterStatus == 1">
            <td>
              <div class="text-center">
                <div class="custom-control custom-checkbox">
                  <input disabled readonly class="custom-control-input" type="checkbox" id="123">
                  <label class="custom-control-label" for="123"></label>
                </div>
              </div>
            </td>
            <td>
              <small class="mr-3">{{i + 1}}</small>
            </td>
            <td>
              <div class="d-flex justify-content-between align-items-center">
                <a class="mb-0 text-capitalize link text-dynamic-2c text-left ml-2" placement="right" container="body"
                [mdbTooltip]="popTemplates" (mouseover)='delayForMouseOver(row.patientId)'
                (mouseleave)="clearMouseInterval(row.patientId)" (click)="onClickRow(row, $event)"
                [ngClass]="{rowBackgroundColorDiv: row.isDeleted}" style="white-space: nowrap; height: 36px; display: inline-flex;margin-right:10px;min-width: 101px;
                align-items: center">
                {{row.fullName}} </a>

                <ng-template #popTemplates>
                  <div class="p-2">
                    <p class="mb-0  text-left"><strong>DOB:</strong> {{row.dateOfBirth | dateFormatPipe}} </p>
                    <p class="mb-2  text-left"><strong>EMR ID:</strong> {{row.patientEmrId}} </p>
                    <div *ngFor="let item of patientActieServicesDto.activeServices">
                      <div class="mb-2" *ngIf="!isServiceLoad">
                        <p class="mb-1 text-left" style="font-size: 14px;"><strong>{{item.serviceName}}</strong></p>
                        <p class="mb-0 pl-1 text-left" style="font-size: 12px;"
                          *ngIf="item.serviceName !== 'BHI' && item.serviceName !== 'RPM' && item.assignedDate">
                          <strong>Assigned Date:</strong>
                          {{item.assignedDate | dateFormatPipe}} </p>
                        <p *ngIf="item.lastEncounterDate" class="mb-0 pl-1 text-left" style="font-size: 12px;"><strong>Last
                            Encounter date:</strong>
                          {{item.lastEncounterDate | dateFormatPipe}} </p>
                        <p class="mb-0 pl-1 text-left" style="font-size: 12px;" *ngIf="item.updatedDate"><strong>Last
                            Updated date:</strong> {{item.updatedDate | dateFormatPipe}} </p>
                      </div>
                    </div>
                  </div>


                </ng-template>
                <div class="action-button d-flex justify-content-center align-items-center">
                    <div class="user-name-list ml-auto ng-star-inserted">
                        <div (click)="GetPatientDueCareGaps(row, pcmDueGapsModal)" class="app-new-primary-bg name-caption" title="Due Gaps Count: 5">
                            <span>{{row.dueGapsCount}}</span>
                        </div>
                    </div>
                    <button title="Add Encounter" [disabled]="row.awEncounterId && row.awEncounterStatus == 1" type="button" class="btn btn-sm btn-dynamic-secondary-2c px-2 my-0 mr-0"
                      (click)="AddAWEncounter(row);">New</button>
                    <button title="View Encounter" *ngIf="row.awEncounterId" type="button" class="btn btn-icon btn-dynamic-2c my-0 mr-0"
                      (click)="ProceedNavigation(row);"><i class="fa fa-play fa-lg"></i></button>
                    <button  (click)="openPatientNote(row)" class="btn btn-dynamic-2c btn-icon my-0 mr-0" title="Quick Note">
                        <i class="fa fa-pencil"></i>
                    </button>
                    <button type="button" class="btn btn-icon btn-dynamic-2c z-depth-0 flex-shrink-0 my-1   mr-0 my-1"
                    title="Patient Insights" placement="right"
                    (click)="openAddTaskModal(addPTaskRef, row)">
                    <i class="fa fa-exclamation-circle"></i>
                  </button>
                    <button [disabled]="row.patientStatus === 3 || row.patientStatus === 7 || row.patientStatus === 8  || row.patientStatus === 9 ||row.isDeletedState" title="Complaint Dialog" (click)="openComplaintsModal(row)" class="btn btn-dynamic-2c btn-icon">
                      <i class="fa fa-bug"></i>
                    </button>
                </div>

              </div>
            </td>
            <td>
                <!-- <button class="btn btn-dynamic-2c btn-icon mx-0 my-0" title="View">
                    <i class="fa fa-comments text-white"></i>
                </button> -->
                <ng-container *hasClaim="['ChatService','TelephonyCommunication']">
                  <button *ngIf="row.telephonyCommunication" type="button" (click)="getChatGroup(row, 2)" class="btn btn-dynamic-2c btn-icon my-1 ml-0 position-relative">
                    <i class="fa fa-comments"></i>
                    <div class="comments-counts" *ngIf="row.unAssociatedCommunication > 0">{{row.unAssociatedCommunication}}</div>
                  </button>
                  <!-- <button *ngIf="!row.telephonyCommunication" type="button" (click)="OpenPatientSetting(row)" class="btn btn-danger btn-icon my-1 ml-0"> -->
                  <button *ngIf="!row.telephonyCommunication" type="button" (click)="getChatGroup(row, 2)" class="btn btn-danger btn-icon my-1 ml-0 position-relative">
                    <i class="fa fa-comments"></i>
                    <div class="comments-counts" *ngIf="row.unAssociatedCommunication > 0">{{row.unAssociatedCommunication}}</div>
                  </button>
                </ng-container>
            </td>
            <td >
                <span style="width: 100px;" class="badge badge-success">{{gapStatusEnum[row.awGapStatus]}}</span>
            </td>
            <!-- <td (click)="gapModelOpenFromOtherComponent(row)">
                <span style="width: 100px;" class="badge cursor-pointer badge-success">{{gapStatusEnum[row.awGapStatus]}}</span>
            </td> -->
            <td [class.disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)">
                <span (click)="closePcmEncounterObj.status = null;selectedEncounter=row;ClosedStatusModal.show();" style="width: 100px;" class="badge cursor-pointer badge-success">{{PcmEncounterStatus[row.awEncounterStatus]}}</span>
            </td>
            <td>
                <div class="d-flex justify-content-center align-items-center">
                    <button [disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)" (click)="selectedRow=row;sendtoPatientModal.show()" class="btn btn-dynamic-2c btn-icon  my-0" title="View">
                        <i class="fa fa-paper-plane-o text-white"></i>
                    </button>
                    <div style="width: 100px; height: 20px;" id="progress-bar">
                        <mdb-progress [value]="row.hraFormCompletionPercentage" min="0" max="100" type="success" style="height: 20px;">
                          <span class="min-label" data-label="%" style="height: 20px;"> {{row.hraFormCompletionPercentage}} </span>
                        </mdb-progress>
                    </div>
                </div>
            </td>
            <!-- (appIsOutside)="hraPopover.hide()" -->
            <td [class.disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)">
                <span id="hraPopup" #hraPopover="bs-mdbPopover" class="badge badge-success cursor-pointer" color="success" container="body" [mdbPopover]="hraPopup" placement="left">{{HRACallStatus[row.hraCallStatus]}}</span>
                <ng-template #hraPopup>
                  <div class="p-2  position-relative">
                    <div >
                      <h6 ><strong>HRA Status History</strong></h6>
                    </div>
                    <div>
                      <div class="selected-box">
                          <div class="selected-text" [innerText]="row.hraCallLogHistory">
                          </div>
                      </div>
                    </div>
                    <div >
                      <h6 class="mt-3"><strong>Add Status History</strong></h6>
                    </div>
                    <div >
                      <div >
                        <!-- <input type="date" class="form-control form-control-sm mb-3 mr-1 w-100"
                         placeholder="YYYY-MM-DD"/> -->
                      <ng-select [(ngModel)]="row.hraStatus" [searchable]="false" [appendTo]="'body'" container="body" class=" ng-select-small mb-3" placeholder="Status" [clearable]="false" [closeOnSelect]="true" [multiple]="false" >
                        <ng-option [value]="item.value" *ngFor="let item of HRACallStatusList">{{item.name}}</ng-option>
                      </ng-select>
                      </div>

                      <input [(ngModel)]="row.hraNote" class="form-control mb-3" type="text" placeholder="Note" >
                    </div>
                    <div class="text-right">
                      <button (click)="hraPopover.toggle()" class="btn btn-dynamic-secondary-2c btn-sm mr-0 ">Close</button>
                      <button [disabled]="!row.hraStatus || !row.hraNote" class="btn btn-dynamic-2c btn-sm mr-0 " (click)="UpdateHRACallStatus(row);hraPopover.toggle()">Save</button>
                    </div>

                  </div>
                </ng-template>
              </td>
            <td  >
              <button class="btn btn-icon btn-dynamic-2c m-0 mr-2 ml-1 " [disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)">
                <i class="fa fa-calendar" [dpDayPicker]="datePickerConfig1" #date="dpDayPicker"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" (onSelect)="changeEncounterdate($event, row)"> </i>
              </button>
               <span *ngIf="row.encounterDate">{{row.encounterDate | dateFormatPipe}}</span>
            </td>
            <td  >
              <button class="btn btn-icon btn-dynamic-2c m-0 mr-2 ml-1 " [disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)">
                <i class="fa fa-calendar" [dpDayPicker]="datePickerConfig1" #date="dpDayPicker"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" (onSelect)="changeVisitDate($event, row)"> </i>
              </button>
              <span *ngIf="row.awVisitScheduleDate">{{row.awVisitScheduleDate | dateFormatPipe}}</span>
            </td>
            <td  >
              <button class="btn btn-icon btn-dynamic-2c m-0 mr-2 ml-1 " [disabled]="!row.awEncounterId || (row.awEncounterId && row.awEncounterStatus !== 1)">
                <i class="fa fa-calendar" [dpDayPicker]="datePickerConfig1" #date="dpDayPicker"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" (onSelect)="changeLastOfficeVisitDate($event, row)"> </i>
              </button>
              <span *ngIf="row.recentPcpAppointmentDate">{{row.recentPcpAppointmentDate | dateFormatPipe}}</span>
            </td>
          </tr>
        </tbody>

      </table>
</div>

<div mdbModal #awvchangeDate="mdbModal" class="modal fade" tabindex="-1" role="dialog"
   aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100 text-center" id="myModalLabel">Update Date
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <div class=" form-group mt-3">
              <label class="w-100">Change Date<small class="text-danger">*</small></label>
              <input type="text" class="form-control form-control-sm"
                #dateDPicker="dpDayPicker" [dpDayPicker]="awvchangeDate" placeholder="YYYY-MM-DD"
                [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="waves-light btn btn-sm btn-dynamic-2c"
          aria-label="Close"  mdbWavesEffect> <span
            class="mr-1 spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Save</button>
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" (click)="awvchangeDate.hide()" aria-label="Close"
           mdbWavesEffect>Close</button>
      </div>
    </div>
  </div>
</div>
<div mdbModal #pcmDueGapsModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  aria-labelledby="mypcmDueGapsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content ">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="pcmDueGapsModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Due Gaps</h4>
      </div>
      <div class="modal-body" style="height: 350px;overflow-y: auto;" *ngIf="pcmDueGapsModal.isShown">
        <div class="row">
          <div class="col-sm-12">
            <div class="table-responsive">

              <table class="table table-striped table-hover mb-0">
                <thead class="bg-dynamic-secondary-2c white-text">
                  <tr>
                    <th>Measure Name </th>
                    <th>Status</th>
                    <th>Last Done</th>
                    <th>Next Due</th>
                    <th>Note</th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let item of dueGapsList">
                    <tr>
                      <td>{{item.measureName}}</td>
                      <td>
                        <span class="badge status status-{{item.color ? item.color : 'primary'}}">{{ item['cStatus']
                          }}</span>
                      </td>
                      <td style="min-width:120px">{{item.lastDone | dateFormatPipe}}</td>
                      <td style="min-width:120px">{{item.nextDue | dateFormatPipe}}</td>
                      <td style="min-width: 150px;"><textarea (blur)="UpdateDueGapeNote(item)" rows="1"
                          [(ngModel)]="item.note" class="form-control"></textarea></td>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>

          </div>
        </div>
        <ng-container *ngIf="gettingDueGaps;then loadingSkelton"></ng-container>

      </div>
      <div class="modal-footer">
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="pcmDueGapsModal.hide()" mdbWavesEffect>Close</button>

      </div>
    </div>
  </div>
</div>
<div mdbModal #ClosedStatusModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
aria-labelledby="myBasicModalLabel" aria-hidden="true" mdbTableScroll>
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close pull-right" aria-label="Close" (click)="ClosedStatusModal.hide()">
        <span aria-hidden="true">×</span>
      </button>
      <h4 class="modal-title w-100" id="myModalLabel">Closed Status</h4>
    </div>
    <div class="modal-body" *ngIf="ClosedStatusModal.isShown">
      <div>
        <ul class="status-list">
          <li [class.active]="closePcmEncounterObj.status === 3"> <a class="link"
              (click)="closePcmEncounterObj.status = 3;">Closed Error
            </a>
          </li>
          <li [class.active]="closePcmEncounterObj.status === 4"> <a class="link"
              (click)="closePcmEncounterObj.status = 4;">Closed Duplicate
            </a>
          </li>
          <li [class.active]="closePcmEncounterObj.status === 5"> <a class="link"
              (click)="closePcmEncounterObj.status = 5;">Closed Other
            </a>
          </li>
        </ul>
      </div>
    </div>

    <div class="modal-footer">

      <button type="button" (click)="ClosedStatusModal.hide()" class="waves-light btn btn-sm btn-dynamic-secondary-2c"
        aria-label="Close" mdbWavesEffect>Cancel</button>
      <button type="button" [disabled]="closingEncounter" (click)="ClosePcmEncounter(ClosedStatusModal)" class="relative btn btn-sm btn-dynamic-secondary-2c"
      mdbWavesEffect><span *ngIf="closingEncounter" class="spinner-border spinner-border-sm" role="status"
      aria-hidden="true"></span> Save</button>
    </div>
  </div>
</div>
</div>
<div mdbModal #sendtoPatientModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  aria-labelledby="myBasicModalLabel" aria-hidden="true" (close)="ResetSentPatient()">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="sendtoPatientModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <!-- <h4 class="modal-title w-100" id="myModalLabel"><i class="fa fa-exclamation-triangle yellow-text"></i>{{modalObj.Title}}
        </h4> -->
        <h4 class="modal-title w-100" id="myModalLabel">Send to Patient
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
              <label for="defaultLoginFormsignature">Email</label>
              <div class="d-flex">
                <input type="email" [(ngModel)]="sendToPatienTDto.email" name="email" autocomplete="new-email"
                  id="defaultLoginFormemail" class="form-control form-control-sm" placeholder="Email">
              </div>
            </div>
          </div>
          <!-- <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
              <label for="defaultLoginFormsignature">Country Calling Code</label>
              <div class="w-100">
                <ng-select [(ngModel)]="countryCallingCode" [ngModelOptions]="{standalone: true}" id="countryCallingCode" class="ng-select-small" [multiple]="false" [searchable]="true"
                placeholder="Select Country Calling Code">
                <ng-option *ngFor="let item of countriesList" [value]="item">{{item.callingCode}} {{item.name}}
                </ng-option>
        </ng-select>
              </div>
            </div>
          </div> -->
          <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="form-group">
              <label for="defaultLoginFormsignature">Phone</label>
              <div class="d-flex">
                <input type="Phone" mask="(000)000-0000" [(ngModel)]="sendToPatienTDto.phoneNo" name="Phone" autocomplete="new-Phone"
                  id="defaultLoginFormPhone" class="form-control form-control-sm" placeholder="Phone">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="sendtoPatientModal.hide()" mdbWavesEffect>Close</button>
        <button [disabled]="sendingToPatient || (!sendToPatienTDto.email && !sendToPatienTDto.phoneNo)"
          (click)="SendToPatient(sendtoPatientModal)" type="button"
          class="relative waves-light btn btn-sm btn-dynamic-2c" mdbWavesEffect>
          <span *ngIf="sendingToPatient" class="spinner-border spinner-border-sm" role="status"
            aria-hidden="true"></span>
          Send</button>
      </div>
    </div>
  </div>
</div>
<app-add-task #addPTaskRef></app-add-task>
<app-patient-gap-detail #gapDetailRef></app-patient-gap-detail>
