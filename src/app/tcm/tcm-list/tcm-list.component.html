<div class="d-flex align-items-center justify-content-between mb-3">
  <div class="d-flex align-items-center justify-content-start">
    <h4 class="mr-3 mb-0"><a class="text-dark" (click)="navigateBack()">
        <i class="fa fa-arrow-left"></i></a></h4>
    <h1 class="page-title mb-0">TCM Encounters</h1>
  </div>

  <!-- <div class="d-flex align-items-center action-button">
    <div *hasClaim="['CanViewCustomList']">
      <div class="dropdown" mdbDropdown [isDisabled]="(!selected || !selected.length)"
        *ngIf="CustomListDto && CustomListDto.length > 0">
        <button mdbDropdownToggle mdbBtn class="btn btn-dynamic-2c btn-sm mr-0" placement="right">Add to Custom List <i
            class="fa fa-angle-down ml-1"></i></button>
        <div class="dropdown-menu ">
          <a class="dropdown-item" *ngFor="let item of CustomListDto"
            (click)="$event.stopPropagation();AddPatientsToList(item.id)"><i
              class="fa fa-arrow-alt-circle-up fa-lg mr-1"></i>{{item.name}} </a>
        </div>
      </div>
    </div>
  </div> -->
</div>
<div class="row d-flex form-group">
  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">
    <label for="searchBy">Search Patient</label>
    <div class="d-flex align-items-center justify-content-start">
      <input type="text" #searchPatient [(ngModel)]="filterPatientDto.SearchParam" autocomplete="off"
        class="form-control flex-1 form-control-sm box-shadow w-100" id="searchBy" />
      <div  class="d-inline-flex">
          <button type="button" class="btn btn-dynamic-2c btn-sm my-0 flex-shrink-0 mr-0 px-sm-3 px-md-4" appDebounceClick
          (debounceClick)="test.toggle()"><i class="fa fa-filter fa-lg"></i> Filter</button>
          <button type="button" class="btn btn-dynamic-secondary-2c btn-sm my-0 flex-shrink-0"
          (click)="resetFilter();filterPatients()"><i class="fa fa-refresh fa-lg"></i> Reset</button>
      </div>
    </div>
  </div>

</div>
<div class="search-filter collapseable" mdbCollapse #test="bs-collapse">
  <div class="panel" style="overflow: visible;">
    <div class="panel-header d-flex justify-content-between align-items-center">
      <h3>Search Filter</h3>
      <div>
        <button type="button" class="close pull-right" aria-label="Close" (click)="test.hide()">
          <span aria-hidden="true">×</span>
        </button>
      </div>
    </div>
    <div class="panel-body">
      <div class="row">

        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="form-group">
            <label for="name">CCM Status</label>
            <ng-select [(ngModel)]="filterPatientDto.ccmStatus" appendTo="body" [searchable]="false"
              [closeOnSelect]="true" class="ng-select-small" placeholder="Ccm Status"
              [ngClass]="{'my-class': filterPatientDto.ccmStatus !== -1}">
              <ng-option [value]="-1">All</ng-option>
              <ng-option [value]="item.value" *ngFor="let item of ccmStatusList">{{item.text}} </ng-option>
            </ng-select>
          </div>
        </div>
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="form-group">
            <label for="name">TCM Status</label>
            <ng-select [(ngModel)]="filterPatientDto.tcmStatus" appendTo="body" [searchable]="false"
              [closeOnSelect]="true" class="ng-select-small" placeholder="Tcm Status">
              <ng-option [value]="-1">All</ng-option>
              <ng-option [value]="item.number" *ngFor="let item of tcmStatusList">{{item.word}} </ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-xl-3 col-lg-6 col-sm-6" [hidden]="currentUser?.userType === 3">
          <div class="form-group">
            <label for="namee">Billing Provider</label>
            <ng-select class="ng-select-small" [(ngModel)]="filterPatientDto.BillingProviderId" appendTo="body"
              [closeOnSelect]="true" [multiple]="false" [searchable]="true" placeholder="Billing Provider"
              [ngClass]="{'my-class': filterPatientDto.BillingProviderId > 0}">
              <ng-option [value]="0">All Billing Providers </ng-option>
              <ng-option *ngFor="let item of (facilityUsersList | filterFUsersByRole: 'Billing Provider')" [value]="item.id">{{item.lastName}},{{item.firstName}}
              </ng-option>
            </ng-select>
          </div>
        </div>

        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="form-group mb-0">
            <label class="w-100">Hospitalization Date</label>
            <input type="text" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
              [dpDayPicker]="datePickerConfig2" placeholder="MM-DD-YYYY"
              [(ngModel)]="filterPatientDto.hospitalizationDate" [theme]="'dp-material ccm-date-picker'"
              [mode]="'day'" />

          </div>
        </div>
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="form-group mb-0">
            <label class="w-100">Follow Up Date</label>
            <input type="text" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
              [dpDayPicker]="datePickerConfig2" placeholder="MM-DD-YYYY" [(ngModel)]="filterPatientDto.followupDate"
              [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />

          </div>
        </div>
        <div class="col-xl-3 col-lg-6 col-sm-6 ">
          <div class="btn-group"  style="    padding-top: 1.85rem;">
            <button type="button" class="btn btn-dynamic-2c btn-sm my-0 flex-shrink-0" (click)="filterPatients();"><i
                class="fa fa-filter fa-lg"></i> Search</button>

            <!-- <button type="button"  class="btn btn-dynamic-secondary-2c btn-sm my-0 flex-shrink-0 float-right"
              (click)="getPatientListExcelFile()"> Download</button> -->

          </div>
        </div>

      </div>
    </div>


  </div>
</div>
<!-- <app-patient-details></app-patient-details> -->

<div class="position-relative patients-list" style="padding-top: 15px !important;">
  <app-custom-list-for-patient-lists #customListForPatientsListCompRef  *hasClaim="['CanViewCustomList']" (deselectRows)="deselectCheckedRows()" (selectedCustomList)="fillCustomListValue($event)"></app-custom-list-for-patient-lists>
  <!-- <div *hasClaim="['CanViewCustomList']"
    class="d-flex align-items-center col-xl-6 col-lg-6 col-sm-12 custom-list-dropdown px-0">
    <div class="flex-grow-1 d-flex align-items-center" *ngIf="CustomListDto && CustomListDto.length > 0">
      <label for="name">Apply Custom List</label>
      <ng-select [(ngModel)]="filterPatientDto.customListId" [searchable]="false" [closeOnSelect]="true"
        (ngModelChange)="filterPatients()" class="flex-grow-1 ml-3 ng-select-small" placeholder="Custom Lists"
        [ngClass]="{'my-class': filterPatientDto.customListId > 0}">
        <ng-option [value]="0">Select Custom List</ng-option>
        <ng-option [value]="item.id" *ngFor="let item of CustomListDto">{{item.name}} </ng-option>
      </ng-select>
    </div>
  </div> -->
  <div appCcmLoader>
    <div class="loader-wrap" *ngIf="loadingOnStart">
      <div class="text-dynamic-2c la-ball-pulse ccm-loader">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>

  <div *ngIf="IsLoading" class="d-flex justify-content-center text-center loadingrow" style="top: 44px;">
    <mdb-progress-bar class="progress primary-color-dark mb-0" mode="indeterminate"></mdb-progress-bar>
  </div>
  <table datatable [dtOptions]="dtOptions" id="example" [dtTrigger]="dtTrigger"
    class="cell-border hover text-nowrap ccm-datatable">
    <thead>
      <tr>
        <th>
          <div class="text-center">
            <div class="custom-control custom-checkbox">
              <input class="custom-control-input" type="checkbox" id="selectAll" [(ngModel)]="gridCheckAll"
                (change)="gridAllRowsCheckBoxChecked($event)">
              <label class="custom-control-label" for="selectAll"></label>
            </div>
          </div>
        </th>
        <th>ID</th>
        <th>
          <span style="white-space: nowrap; display: block;">Patient</span>
        </th>
       
        <th>Stage</th>
        <th>TCM Asgn Dt</th>
        <th>Hosp Date</th>
        <th>Disch Date</th>
        <th>Exp Dis Dt</th>
        <!-- <th>CP</th> -->
        <!-- <th>Initial Comm Status</th> -->
        <th>F/Up Date</th>
        <th>CCM Status</th>
        <th>TCM CF</th>
        <th>TCM CC</th>
        <th>TCM BP</th>
        <!-- <th>Next due</th>
        <th>Result</th>
        <th>Note</th> -->
        <!-- <th>Action</th> -->
      </tr>
    </thead>
    <tbody>
      <!-- <tr>
        <td colspan="12" class="p-0">
          <div class="d-flex justify-content-center text-center">
            <mdb-progress-bar class="progress primary-color-dark mb-0" mode="indeterminate"></mdb-progress-bar>
          </div>
        </td>
      </tr> -->
      <tr *ngFor="let row of rows; let i = index">
        <!-- (click)="row.checked = !row.checked; selectRow(row)" -->
        <td>
          <div class="text-center">
            <div class="custom-control custom-checkbox">
              <input class="custom-control-input" type="checkbox" id="{{(i + 1) + rowIndex}}" [(ngModel)]="row.checked"
                (click)="rowCheckBoxChecked($event, row)">
              <label class="custom-control-label" for="{{(i + 1) + rowIndex}}"></label>
            </div>
          </div>
        </td>
        <td>
          <small class="mr-3">{{ i + 1 + rowIndex }}</small>
        </td>
        <td>
          <div class="d-flex justify-content-between align-items-center">
            <!-- <small class="mr-3">{{(i + 1) + rowIndex}}</small> -->
            <!-- <span *ngIf="row.profileStatus" class="status-bullet bg-success" title="Profile Complete"></span>
            <span *ngIf="!row.profileStatus" class="status-bullet bg-danger" title="Profile Incomplete"></span> -->
            <!-- [ngClass]="{rowBackgroundColorDiv: row.isDeleted}" -->
            <a class="mb-0 text-capitalize link text-dynamic-2c text-left ml-2" placement="right" container="body"
              [mdbTooltip]="popTemplate" style="white-space: nowrap; height: 36px; display: inline-flex;margin-right:10px;
              align-items: center" (click)="onClickRow(row, $event)">
              {{row.fullName}} </a>

            <ng-template #popTemplate>
              <div class="p-2">
                <p class="mb-0"><strong>DOB</strong> {{row.dateOfBirth | dateFormatPipe}} </p>
                <p class="mb-0"><strong>EMR ID:</strong> {{row.patientEmrId}} </p>
              </div>

            </ng-template>

            <div class="action-button d-flex justify-content-center">
              <!-- <button [disabled]="row.isBHIRevoked" class="btn btn-dynamic-2c btn-icon my-1"
                  (click)="viewPatient(row); editBhi.show()"><i class="fa fa-pencil"></i></button> -->
              <a class="btn btn-dynamic-2c btn-icon my-0 mr-0" title="Edit Status" (click)="singleRowData(row);openAssignProviderStatusModal(row, ClosedStatusModal);"><i
                  class="fa fa-pencil"></i> </a>

              <a class="btn btn-dynamic-2c btn-icon ml-1  my-0"
                 (click)="navigateToPatientTcm(row)" title="View"><i
                  class="fa fa-eye text-white"></i> </a>
              <!-- <button [disabled]="row.bhiStatus < 1 || (row.bhiStatus !== 3 && row.bhiStatus !== 4) || row.isBHIRevoked"
                  class="btn btn-dynamic-2c btn-icon my-1" (click)="ProceedNavigation(row)"><i
                    class="fa fa-eye"></i></button> -->
            </div>

          </div>
        </td>

        
        <td style="width: 100px">
          <div class="care-gaps-status">
            <a class="pcm-status-badge status-{{row.initialCommStatusColor}}" title="Initial Comm"></a>

            <a class="pcm-status-badge status-{{row.patientDischargeStatusColor}}" title="Discharge Form"></a>

            <a class="pcm-status-badge status-{{row.nonFaceToFaceStatusColor}}" title="Non Face-to-face"></a>
            <a class="pcm-status-badge status-{{row.faceToFaceStatusColor}}" title="Face-to-face"></a>



          </div>
        </td>
        <td>
          <div class="d-flex justify-content-start align-items-center" style="width: 120px;">
            <ng-container *ngIf="CanEditAssignedDate || !row.dateAssigned">
              <a class="" (click)="assignedDateProp=row.dateAssigned;changeStatus(row);assignedDateModal.show();" title="Assigned Date"><i
                  class="fa fa-calendar text-dynamic-secondary-2c mx-2" style="font-size: 20px;"></i></a>
            </ng-container>
            <span>{{row.dateAssigned | dateFormatPipe}}</span>
          </div>
        </td>
        <td>

          {{ row.hospitalizationDate | dateFormatPipe }}
        </td>
        <td>
          <div class="d-flex justify-content-start align-items-center" style="width: 120px;" *ngIf="row.dischargeDate">
            <ng-container >
              <a class="" (click)="selectedPatient=row;AssignDischargeDate();dischargeDateModal.show();"><i
                  class="fa fa-calendar text-dynamic-secondary-2c mx-2" style="font-size: 20px;"></i></a>
            </ng-container>
            <span>{{row.dischargeDate | dateFormatPipe}}</span>
          </div>
        </td>
        <td>
          <div class="d-flex justify-content-start align-items-center" style="width: 120px;" >
            <ng-container *ngIf="row.dischargeDate">
              <a class="" (click)="selectedPatient=row;AssignDischargeDate();dischargeDateModal.show();"><i
                  class="fa fa-calendar text-dynamic-secondary-2c mx-2" style="font-size: 20px;"></i></a>
            </ng-container>
            <span>{{row.tentativeDischargeDate | dateFormatPipe}}</span>
          </div>
        </td>
        <!-- <td>
          <div class="user-name-list">
            <div title="{{item.fullName}}" class="name-caption" *ngFor="let item of row.careProviders">
              <span>{{item['nameAbbreviation']}}</span>
            </div>
          </div>
        </td> -->
        <!-- <td>
          {{ tcmRequirementsStatusEnum[row.initialContactStatus] }}
        </td> -->
        <td>
          {{ row.followupDate | dateFormatPipe }}
        </td>
        <td>
          <!-- tcmStatusEnum -->
          {{ccmStatusEnum[row.ccmStatus]}}
        </td>
        <!-- billingProviderName = '';
        billingProviderNameAbbreviation = ''; -->
        <td>
          <div class="user-name-list" *ngIf="row.tcmCareFacilitator && row.tcmCareFacilitator.fullName">
            <div title="{{row.tcmCareFacilitator.fullName}}" class="name-caption">
              <span>{{row.tcmCareFacilitator.nameAbbreviation}}</span>
            </div>
          </div>
        </td>
        <td>
          <div class="user-name-list" *ngIf="row.tcmCareCoordinators">
            <div title="{{item.fullName}}" class="name-caption" *ngFor="let item of row.tcmCareCoordinators">
              <span>{{item.nameAbbreviation}}</span>
            </div>
          </div>
        </td>
        <td>
          <div class="user-name-list" *ngIf="row.tcmBillingProvider && row.tcmBillingProvider.fullName">
            <div title="{{row.tcmBillingProvider.fullName}}" class="name-caption">
              <span>{{row.tcmBillingProvider.nameAbbreviation}}</span>
            </div>
          </div>
        </td>

      </tr>
    </tbody>
    <!-- <tbody *ngIf="rows.length === 0">
      <td class="bg-white p-3 text-danger" colspan="12">No Record Found</td>
     </tbody> -->
  </table>
</div>

<!-- <div class="panel">

  <div class="panel-body p-0">
    <div class="table-responsive">
      <table class="table btn-table table-sm tcm-table">
        <thead class="bg-dynamic-2c text-white">
          <tr>
            <th>#</th>
            <th >Discharge Date</th>
            <th>Hospitalization Date</th>
            <th>Status</th>
            <th>Is Tcm Eligible</th>
            <th >Action</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let item of tcmList; let i= index;">
            <th scope="row">{{ i + 1}}</th>

            <td style="min-width: 115px;">
              <div *ngIf="item.dischargeDate !== '0001-01-01T00:00:00'">{{ item.dischargeDate | date}}</div>
            </td>
            <td style="min-width: 150px;">
              <div *ngIf="item.hospitalizationDate !== '0001-01-01T00:00:00'">{{ item.hospitalizationDate | date}}</div>
            </td>
            <td  style="min-width: 210px;">{{ tcmStatusEnum[item.tcmStatus]}}</td>
            <td style="min-width: 120px;">
              <div>
                <strong class=" text-danger" *ngIf="item.isTcmEligible" >No</strong>
                <strong class=" text-dynamic-2c" *ngIf="!item.isTcmEligible">Yes</strong>
              </div>
              </td>
            <td style="min-width: 120px; ">
              <div class="action-button">
                <a class="btn btn-dynamic-2c btn-icon my-0 ml-0" (click)="singleRowData(item);ClosedStatusModal.show();"><i class="fa fa-pencil"></i> </a>
                <a class="btn btn-dynamic-2c btn-icon ml-1  my-0" routerLink="/tcm/dischargeOverview/{{PatientId}}/{{item.id}}" title="View"><i class="fa fa-eye text-white"></i> </a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div> -->
<div mdbModal #ClosedStatusModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  aria-labelledby="myBasicModalLabel" aria-hidden="true" mdbTableScroll (close)="resetAssignModalDetails()">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="ClosedStatusModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Assign / Closed Status</h4>
      </div>
      <div class="modal-body" *ngIf="ClosedStatusModal.isShown">
        <p><strong>Assign</strong></p>

        <div class="border p-2 mb-3">
          <div class="row">
            <div class="col-sm-12">
              <div class="form-group">
                <label class="w-100">Patient Assigned Date</label>
                <input type="text" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
                  [dpDayPicker]="datePickerConfig2" placeholder="MM-DD-YYYY" [(ngModel)]="AssignProviderAndDateObj.tcmDateAssigned"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label for="name">TCM Care Coordinator</label>
                <ng-select [(ngModel)]="AssignProviderAndDateObj.tcmCareCoordinatorIds" [multiple]="true" appendTo="body" [searchable]="false"
                  [closeOnSelect]="true" class="ng-select-small" placeholder="Care Coordinator">
                  <!-- <ng-option [value]="-1">All</ng-option> -->
                  <ng-option [value]="item.id" *ngFor="let item of (facilityUsersList | filterFUsersByRole: 'Care Coordinator')">{{item.lastName}},{{item.firstName}} </ng-option>
                </ng-select>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="form-group">
                <label for="name">TCM Care Facilitator</label>
                <ng-select [(ngModel)]="AssignProviderAndDateObj.tcmCareFacilitatorId" appendTo="body" [searchable]="false"
                  [closeOnSelect]="true" class="ng-select-small" placeholder="Care Facilitator">
                  <!-- <ng-option [value]="-1">All</ng-option> -->
                  <ng-option [value]="item.id" *ngFor="let item of (facilityUsersList | filterFUsersByRole: 'Care Facilitator')">{{item.lastName}},{{item.firstName}} </ng-option>
                </ng-select>
              </div>
            </div>

            <div class="col-sm-12">
              <div class="form-group">
                <label for="namee">TCM Billing Provider</label>
                <ng-select class="ng-select-small" [(ngModel)]="AssignProviderAndDateObj.tcmBillingProviderId" appendTo="body"
                  [closeOnSelect]="true" [multiple]="false" [searchable]="true" placeholder="Billing Provider">
                  <!-- <ng-option [value]="0">All Billing Providers </ng-option> -->
                  <ng-option *ngFor="let item of (facilityUsersList | filterFUsersByRole: 'Billing Provider')" [value]="item.id">{{item.lastName}},{{item.firstName}}
                  </ng-option>
                </ng-select>
              </div>
            </div>
          </div>
        </div>
        <div>
          <p><strong>Close Status</strong></p>
          <div class="border p-3">
            <ul class="status-list">

              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 3"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 3;openConfirmModal()">Time Lapse
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 4"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 4;openConfirmModal()">IneligibleDischarge
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 5"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 5;openConfirmModal()">Death
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 7"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 7;openConfirmModal()">AddErrornously
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 8"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 8;openConfirmModal()">Duplicate
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 9"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 9;openConfirmModal()">WrongPatient
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 10"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 10;openConfirmModal()">Other
                </a>
              </li>
              <li [class.active]="tcmEncounterCloseDto.ClosedStatus === 11"> <a class="link"
                  (click)="tcmEncounterCloseDto.ClosedStatus = 11;openConfirmModal()">Re Admission
                </a>
              </li>
            </ul>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" [disabled]="assigningDate" class="waves-light btn btn-sm btn-dynamic-2c"
          aria-label="Close" (click)="SaveAssignedProvidersAndDate(ClosedStatusModal);" mdbWavesEffect> <span *ngIf="assigningDate"
            class="mr-1 spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Save</button>
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="ClosedStatusModal.hide()" mdbWavesEffect>Close</button>
      </div>
    </div>
  </div>
</div>

<div mdbModal #HospitalizationDateModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  aria-labelledby="myBasicModalLabel" aria-hidden="true" mdbTableScroll>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="HospitalizationDateModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">Hospitalization Date</h4>
      </div>
      <div class="modal-body" *ngIf="HospitalizationDateModal.isShown">

        <div class="d-flex justify-content-between">
          <label class="mt-1">Hospitalization Date </label>
        </div>
        <div class="form-group mb-0">
          <input type="text" [ngModel]="followUpDataObj.recentHospitalizationDate | dateFormatPipe"
            (ngModelChange)="followUpDataObj.recentHospitalizationDate=$event;" class="form-control form-control-sm"
            #dateDPicker="dpDayPicker" [dpDayPicker]="onlydatePickerConfig" placeholder="MM-DD-YYYY"
            [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />
        </div>

      </div>

      <div class="modal-footer">

        <button type="button" (click)="HospitalizationDateModal.hide()"
          class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close" mdbWavesEffect>Cancel</button>
        <button type="button"
          [disabled]="creatingTcm || !followUpDataObj.recentHospitalizationDate" (click)="updateHospitalizationDate()"
          class="waves-light btn btn-sm btn-dynamic-2c" mdbWavesEffect>
          <span *ngIf="creatingTcm" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          Add Data
        </button>
      </div>
    </div>
  </div>
</div>

<div mdbModal #clickOnRow="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel"
  aria-hidden="true">
  <div class="modal-dialog flat-modal" role="document">
    <div class="modal-content">
      <div class="modal-header">

        <h4 class="modal-title w-100 text-center" id="myModalLabel">Incomplete
          Profile
        </h4>
      </div>
      <div class="modal-body">
        <p class="text-center">
          <i class="fa fa-exclamation-triangle text-danger" style="font-size: 3rem;"></i>
        </p>

        <p class="text-center">
          Patient profile looks incomplete. <br> Would you like to edit patient profile?
        </p>

        <!-- Some required fields are missing.Please enter that data first. -->
        <div class="d-flex justify-content-center mt-3">
          <button type="button" (click)="addRequiredData()" class="relative btn btn-sm btn-dynamic-2c"
            mdbWavesEffect>YES</button>
          <button type="button" class="btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
            (click)="clickOnRow.hide()">NO</button>

        </div>
      </div>

    </div>
  </div>
</div>

<div mdbModal #assignedDateModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  (opened)="datPickerRef.openBtnClicked()" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100 text-center" id="myModalLabel">Assigned Date
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <div class="input-group form-group mt-3">
              <label class="w-100">Patient Assigned Date<small class="text-danger">*</small></label>
              <mdb-date-picker #datPickerRef class="custom-datepicker w-100" [options]="myDatePickerOptions"
                [(ngModel)]="assignedDateProp" [outlineInput]="true" [inline]="true" name="mydate"
                [placeholder]="'Patient Assiged Date'">
              </mdb-date-picker>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" [disabled]="assigningDate" class="waves-light btn btn-sm btn-dynamic-2c"
          aria-label="Close" (click)="SaveAssignedDate(assignedDateModal);" mdbWavesEffect> <span *ngIf="assigningDate"
            class="mr-1 spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Save</button>
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="assignedDateModal.hide()" mdbWavesEffect>Close</button>
        <!-- <butmdbModalton type="button" mdbBtn color="primry" (click)="addRequiredData()" class="relative waves-light"
          mdbWavesEffect>Add Data</button> -->
      </div>
    </div>
  </div>
</div>
<div mdbModal #dischargeDateModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  (opened)="datPickerRef.openBtnClicked()" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100 text-center" id="myModalLabel">Discharge Date
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <div class="input-group form-group mt-3">
              <label class="w-100">Discharge Date<small class="text-danger">*</small></label>
              <!-- <mdb-date-picker #datPickerRef class="custom-datepicker" [options]="myDatePickerOptions"
                [(ngModel)]="dischargeDate" [outlineInput]="true" [inline]="true" name="mydate"
                [placeholder]="'Discharge Date'">
              </mdb-date-picker> -->
              <input type="text" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
                  [dpDayPicker]="datePickerConfig2" placeholder="MM-DD-YYYY" [(ngModel)]="dischargeDate"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />
            </div>
          </div>
          <div class="col-sm-12">
            <div class="input-group form-group mt-3">
              <label class="w-100">TentativeDischarge Date<small class="text-danger">*</small></label>
              <!-- <mdb-date-picker #datPickerRef class="custom-datepicker" [options]="myDatePickerOptions"
                [(ngModel)]="tentativeDischargeDate" [outlineInput]="true" [inline]="true" name="mydate"
                [placeholder]="'Tentative Discharge Date'">
              </mdb-date-picker> -->
              <input type="text" class="form-control form-control-sm" #dateDPicker="dpDayPicker"
                  [dpDayPicker]="datePickerConfig2" placeholder="MM-DD-YYYY" [(ngModel)]="tentativeDischargeDate"
                  [theme]="'dp-material ccm-date-picker'" [mode]="'day'" />
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" [disabled]="assigningDischargeDate" class="waves-light btn btn-sm btn-dynamic-2c"
          aria-label="Close" (click)="SetDischargeDate(dischargeDateModal);" mdbWavesEffect> <span *ngIf="assigningDischargeDate"
            class="mr-1 spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Save</button>
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="dischargeDateModal.hide()" mdbWavesEffect>Close</button>
        <!-- <butmdbModalton type="button" mdbBtn color="priary" (click)="addRequiredData()" class="relative waves-light"
          mdbWavesEffect>Add Data</button> -->
      </div>
    </div>
  </div>
</div>
<div mdbModal #assignedDateAndProviderModal="mdbModal" class="modal fade" tabindex="-1" role="dialog"
  (opened)="datPickerRef.openBtnClicked()" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100 text-center" id="myModalLabel">Assigned Date
        </h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <div class="input-group form-group mt-3">
              <label class="w-100">Patient Assigned Date<small class="text-danger">*</small></label>
              <mdb-date-picker #datPickerRef class="custom-datepicker" [options]="myDatePickerOptions"
                [(ngModel)]="assignedDateProp" [outlineInput]="true" [inline]="true" name="mydate"
                [placeholder]="'Patient Assiged Date'">
              </mdb-date-picker>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" [disabled]="assigningDate" class="waves-light btn btn-sm btn-dynamic-2c"
          aria-label="Close" (click)="SaveAssignedProvidersAndDate(assignedDateAndProviderModal);" mdbWavesEffect> <span *ngIf="assigningDate"
            class="mr-1 spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Save</button>
        <button type="button" class="waves-light btn btn-sm btn-dynamic-secondary-2c" aria-label="Close"
          (click)="assignedDateAndProviderModal.hide()" mdbWavesEffect>Close</button>
        <!-- <butmdbModalton type="button" mdbBtn color="primry" (click)="addRequiredData()" class="relative waves-light"
          mdbWavesEffect>Add Data</button> -->
      </div>
    </div>
  </div>
</div>
